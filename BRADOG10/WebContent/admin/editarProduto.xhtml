<?xml version='1.0' encoding='UTF-8' ?>  
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">  
<html xmlns="http://www.w3.org/1999/xhtml"
xmlns:ui="http://java.sun.com/jsf/facelets"  
      xmlns:h="http://java.sun.com/jsf/html"  
      xmlns:p="http://primefaces.org/ui"  
   	  xmlns:f="http://java.sun.com/jsf/core">
   	  
<ui:composition template="menuAdmin.xhtml">                
<ui:define name="corpo">
<h:outputStylesheet name="estilo.css" library="css"/>
<h:form enctype="multipart/form-data" styleClass="tela">
<p:growl id="msg"/>
	<p:panel header="Edição de Produto" style="text-align:center">
	<p:focus context="pGrid"/>
	<h:panelGrid columns="3" id="pGrid" cellpadding="4" cellspacing="1"  width="100%" style="text-align:left">
	
	<p:outputLabel value="Nome:" for="nome"  styleClass="texto"/>
	<p:outputLabel value="Descrição:" for="desc" styleClass="texto"/>
	<p:outputLabel value="Preço:" for="preco"  styleClass="texto"/>
	
	<p:inputText id="nome" label="nome:" value="#{consultaProdutoBean.prod.nome}"  required="true"/>
	<p:inputTextarea id="desc" label="Descrição:" value="#{consultaProdutoBean.prod.descricao}" style="color:#888" required="true" autoResize="false"/>
	<p:inputText id="preco"  required="true" value="#{consultaProdutoBean.prod.preco}" />
	
	</h:panelGrid>
	<h:panelGrid columns="1">
		<p:outputLabel value="Imagem:" for="imagem"  styleClass="texto"/> 
		<p:graphicImage id="imagem" value="#{consultaProdutoBean.imagem}" width="48" height="48">
			<f:param name="id" value="#{consultaProdutoBean.prod.id}" /> 			  
		</p:graphicImage>
	
		<p:outputLabel value="Editar Imagem:"   styleClass="texto"/>
		<p:fileUpload  fileUploadListener="#{consultaProdutoBean.fileUpload}" mode="advanced" oncomplete="fileUpload.disable()" cancelLabel="Cancelar" invalidFileMessage="Tipo de Arquivo não Suportado"
		invalidSizeMessage="Tamanho Inválido" label="Abrir"
		allowTypes="/(\.|\/)(gif|jpg|jpeg|gif|png|PNG|GIF|JPG|JPEG)$/" fileLimit="1" fileLimitMessage="Cada Produto Pode Possuir uma Unica Imagem"
	 	dragDropSupport="true" sizeLimit="100000000" update="msg"/>
			
	
	</h:panelGrid>
	 <p:commandButton value="Salvar" action="#{consultaProdutoBean.editar}" icon="ui-icon-check" update="msg" style="text-align:right"/>
	 <p:commandButton value="Limpar" type="reset" icon="ui-icon-cancel"/>
	</p:panel>
	</h:form>
 </ui:define>  
  
</ui:composition>  
</html>